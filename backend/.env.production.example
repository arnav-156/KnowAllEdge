# =============================================================================
# Production Environment Variables
# CRITICAL: Use secrets management (AWS Secrets Manager, HashiCorp Vault, etc.)
# NEVER commit actual production secrets to version control
# =============================================================================

# Environment
FLASK_ENV=production
FLASK_DEBUG=0

# Flask (REQUIRED - minimum 32 characters)
# Generate with: openssl rand -base64 32
SECRET_KEY=

# Database (REQUIRED - must use SSL)
DATABASE_URL=postgresql://user:password@prod-db.example.com:5432/intuitscape_prod?sslmode=require

# Redis (REQUIRED - minimum 16 characters)
# Generate with: openssl rand -base64 24
REDIS_ENABLED=true
REDIS_HOST=prod-redis.example.com
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=true

# API Keys (REQUIRED)
GOOGLE_API_KEY=

# JWT (REQUIRED - minimum 32 characters)
# Generate with: openssl rand -base64 64
JWT_SECRET_KEY=

# CORS (strict whitelist)
CORS_ORIGINS=https://intuitscape.com,https://app.intuitscape.com

# Rate Limiting (strict)
RATE_LIMIT_ENABLED=true

# Logging
LOG_LEVEL=INFO
LOG_FILE=/var/log/intuitscape/production.log

# Monitoring (REQUIRED for production)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# APM (optional but recommended)
APM_ENABLED=false
APM_SERVER_URL=

# Features
FEATURES_GAMIFICATION=true
FEATURES_ANALYTICS=true
FEATURES_STUDY_TOOLS=true
FEATURES_LEARNING_ANALYTICS=true
FEATURES_INTEGRATIONS=true
FEATURES_SOCIAL_FEATURES=true

# Backup (REQUIRED)
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_ENCRYPTION_ENABLED=true

# CDN (optional but recommended)
CDN_ENABLED=false
CDN_URL=

# Email (for notifications)
MAIL_SERVER=
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_DEFAULT_SENDER=noreply@intuitscape.com

# Alerting
ALERT_EMAIL=
ALERT_SLACK_WEBHOOK=
ALERT_PAGERDUTY_KEY=

# Worker Configuration
WORKER_PROCESSES=4
WORKER_THREADS=2
WORKER_TIMEOUT=120

# =============================================================================
# Security Checklist:
# =============================================================================
# 
# ✅ All secrets are at least 32 characters (SECRET_KEY, JWT_SECRET_KEY)
# ✅ Redis password is at least 16 characters
# ✅ Database connection uses SSL (sslmode=require)
# ✅ Redis uses SSL (REDIS_SSL=true)
# ✅ CORS origins are whitelisted (no wildcards)
# ✅ Rate limiting is enabled
# ✅ Monitoring is configured (Sentry)
# ✅ Backups are enabled and encrypted
# ✅ No localhost or development URLs in CORS_ORIGINS
# 
# =============================================================================
# Secrets Management:
# =============================================================================
#
# Recommended: Use a secrets management service instead of .env files
#
# AWS Secrets Manager:
#   aws secretsmanager get-secret-value --secret-id intuitscape/production
#
# HashiCorp Vault:
#   vault kv get secret/intuitscape/production
#
# Kubernetes Secrets:
#   kubectl create secret generic intuitscape-secrets --from-env-file=.env.production
#
# =============================================================================
